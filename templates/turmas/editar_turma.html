{% extends "edit_padrao.html" %}
{% set title = "Editar Turma" %}
{% set titulo_form = "Editar Turma" %}
{% set url_cancelar = "/turmas" %}

{% block form_fields %}

<!-- Código da Oferta (fixo) -->
<div class="mb-3">
  <label class="form-label">Código da Oferta:</label>
  <input
    type="text"
    name="codigo_oferta"
    value="{{ turma.codigo_oferta }}"
    class="form-control"
    readonly
    style="background-color: #444; color: #ccc; border: 1px solid #555"
  />
</div>

<!-- Semestre -->
<div class="mb-3">
  <label class="form-label">Semestre:</label>
  <input
    type="text"
    name="semestre"
    value="{{ turma.semestre }}"
    class="form-control"/> 
</div>

<!-- Curso -->
<div class="mb-3">
  <label class="form-label">Curso:</label>
  <select name="codigo_curso" class="form-select" required>
    {% for c in cursos %}
      <option value="{{ c.codigo }}" {{ "selected" if c.codigo == turma.codigo_curso else "" }}>
        {{ c.codigo }} - {{ c.nome }}
      </option>
    {% endfor %}
  </select>
</div>

<!-- Vagas -->
<div class="mb-3">
  <label class="form-label">Vagas:</label>
  <input
    type="number"
    name="vagas"
    value="{{ turma.vagas }}"
    class="form-control"
  />
</div>

<!-- Local -->
<div class="mb-3">
  <label class="form-label">Local:</label>
  <input
    type="text"
    name="local"
    value="{{ turma.local }}"
    class="form-control"
    placeholder="Ex: Sala 12"
  />
</div>

<hr class="border-light">

<!-- Dias e horários -->
<h5 class="text-center mb-3">Dias e Horários</h5>

{% set dia = turma.dias_horarios|list|first %}
{% set inicio, fim = turma.dias_horarios[dia][0] %}

<div class="row">
  <div class="col-md-4">
    <label class="form-label">Dia:</label>
    <select name="dia" class="form-select">
      {% for d in ["seg", "ter", "qua", "qui", "sex"] %}
        <option value="{{ d }}" {{ "selected" if d == dia else "" }}>
          {{ d|title }}{% if d == "seg" %}unda{% elif d == "ter" %}ça{% elif d == "qua" %}rta{% elif d == "qui" %}nta{% elif d == "sex" %}ta{% endif %}
        </option>
      {% endfor %}
    </select>
  </div>

   <div class="col-md-4">
    <label class="form-label">Início:</label>
    <input
      type="time"
      name="inicio"
      value="{{ inicio }}"
      class="form-control"
    />
  </div>

  <div class="col-md-4">
    <label class="form-label">Fim:</label>
    <input
      type="time"
      name="fim"
      value="{{ fim }}"
      class="form-control"
    />
  </div>
</div>


{% endblock %}